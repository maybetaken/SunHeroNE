{
  "manufacturer": "@maybetaken",
  "model": "makeskyblue",
  "modbus_config": {
    "poll_interval": 1,
    "tasks": [
      { "slave": 1, "cmd": 3, "start": 0, "count": 37 },
      { "slave": 1, "cmd": 3, "start": 100, "count": 46 },
      { "slave": 1, "cmd": 3, "start": 201, "count": 16 }
    ]
  },
  "entities": [
    {
      "key": "sys_ip",
      "type": "sensor_data",
      "name": "WiFi IP Address",
      "source": "json",
      "json_key": "ip",
      "data_type": "ipv4",
      "entity_category": "diagnostic",
      "icon": "mdi:ip-network"
    },
    {
      "key": "sys_ssid",
      "type": "sensor_data",
      "name": "WiFi SSID",
      "source": "json",
      "json_key": "ssid",
      "data_type": "string",
      "entity_category": "diagnostic",
      "icon": "mdi:wifi-settings"
    },
    {
      "key": "sys_rssi",
      "type": "sensor_data",
      "name": "WiFi Signal",
      "source": "json",
      "json_key": "rssi",
      "data_type": "int16",
      "unit": "dBm",
      "device_class": "signal_strength",
      "entity_category": "diagnostic"
    },
    {
      "key": "sys_led",
      "type": "switch",
      "name": "LED",
      "source": "json",
      "json_key": "led",
      "entity_category": "diagnostic",
      "icon": "mdi:led-on"
    },
    {
      "key": "sys_version",
      "type": "sensor_data",
      "name": "Firmware Version",
      "source": "json",
      "json_key": "ver",
      "data_type": "string",
      "entity_category": "diagnostic",
      "icon": "mdi:harddisk"
    },
    {
      "key": "sys_restart",
      "type": "button",
      "name": "Restart Module",
      "source": "json",
      "command_payload": {"cmd": "restart"},
      "entity_category": "diagnostic",
      "device_class": "restart",
      "icon": "mdi:restart"
    },
    {
      "key": "sys_reset_wifi",
      "type": "button",
      "name": "Reset WiFi",
      "source": "json",
      "command_payload": {"cmd": "reset_wifi"},
      "icon": "mdi:restore-alert",
      "entity_category": "diagnostic"
    },
    {
      "key": "sys_reconfig",
      "type": "button",
      "name": "Reconfigure Module",
      "source": "json",
      "command_payload": {"cmd": "reconfig"},
      "icon": "mdi:restore-alert",
      "entity_category": "diagnostic"
    },
    {
      "key": "work_mode",
      "type": "select_mapping",
      "name": "Work Mode",
      "source": "modbus",
      "slave": 1,
      "register": 0,
      "data_type": "uint16",
      "icon": "mdi:cog",
      "map": { "0": "sub_solar_grid_storage", "1": "uti_grid_priority", "2": "sbu_solar_storage_grid", "3": "nbu_no_battery", "4": "oni_pure_inverter" }
    },
    {
      "key": "grid_volt_range",
      "type": "select_mapping",
      "name": "Grid Voltage Range",
      "source": "modbus",
      "slave": 1,
      "register": 1,
      "data_type": "uint16",
      "icon": "mdi:lightning-bolt",
      "map": { "0": "wide_90_270v", "1": "normal_160_240v" }
    },
    {
      "key": "inv_ac_volt",
      "type": "select_mapping",
      "name": "Inverter AC Voltage",
      "source": "modbus",
      "slave": 1,
      "register": 2,
      "data_type": "uint16",
      "icon": "mdi:lightning-bolt",
      "map": { "0": "110v", "1": "120v", "2": "208v", "3": "220v", "4": "230v", "5": "240v" }
    },
    {
      "key": "ac_freq",
      "type": "select_mapping",
      "name": "AC Frequency",
      "source": "modbus",
      "slave": 1,
      "register": 3,
      "data_type": "uint16",
      "icon": "mdi:sine-wave",
      "map": { "0": "50hz", "1": "60hz" }
    },
    {
      "key": "use_soc_for_charge_discharge",
      "type": "switch",
      "name": "Use SOC for Charge/Discharge",
      "source": "modbus",
      "slave": 1,
      "register": 4,
      "data_type": "uint16",
      "icon": "mdi:leaf"
    },
    {
      "key": "charge_priority",
      "type": "select_mapping",
      "name": "Charge Priority",
      "source": "modbus",
      "slave": 1,
      "register": 5,
      "data_type": "uint16",
      "icon": "mdi:battery-charging",
      "map": { "0": "solar_priority", "1": "grid_priority", "2": "solar_and_grid", "3": "solar_only" }
    },
    {
      "key": "battery_type",
      "type": "select_mapping",
      "name": "Battery Type",
      "source": "modbus",
      "slave": 1,
      "register": 6,
      "data_type": "uint16",
      "icon": "mdi:battery",
      "map": { "0": "lead_acid", "1": "lithium" }
    },
    {
      "key": "batt_rated_volt",
      "type": "sensor_mapping",
      "name": "Battery Rated Voltage",
      "source": "modbus",
      "slave": 1,
      "register": 7,
      "data_type": "uint16",
      "icon": "mdi:battery",
      "map": { "960": "96v", "720": "72v", "480": "48v", "240": "24v", "120": "12v" }
    },
    {
      "key": "batt_min_volt",
      "type": "number",
      "name": "Battery Discharge Min",
      "source": "modbus",
      "slave": 1,
      "register": 8,
      "data_type": "uint16",
      "scale": 0.1,
      "unit": "V",
      "min_value": 7,
      "max_value": 120,
      "step": 0.1,
      "device_class": "voltage",
      "icon": "mdi:battery-minus"
    },
    {
      "key": "batt_start_volt",
      "type": "number",
      "name": "Battery Start Discharge",
      "source": "modbus",
      "slave": 1,
      "register": 9,
      "data_type": "uint16",
      "scale": 0.1,
      "unit": "V",
      "min_value": 7,
      "max_value": 120,
      "step": 0.1,
      "device_class": "voltage",
      "icon": "mdi:battery-plus"
    },
    {
      "key": "grid_charge_current",
      "type": "number",
      "name": "Grid Max Charge Current",
      "source": "modbus",
      "slave": 1,
      "register": 10,
      "data_type": "uint16",
      "scale": 0.1,
      "unit": "A",
      "min_value": 0,
      "max_value": 100,
      "step": 0.1,
      "device_class": "current",
      "icon": "mdi:current-dc"
    },
    {
      "key": "pv_charge_current",
      "type": "number",
      "name": "PV Max Charge Current",
      "source": "modbus",
      "slave": 1,
      "register": 11,
      "data_type": "uint16",
      "scale": 0.1,
      "unit": "A",
      "min_value": 0,
      "max_value": 300,
      "step": 0.1,
      "device_class": "current",
      "icon": "mdi:current-dc"
    },
    {
      "key": "inv_grid_current_max",
      "type": "number",
      "name": "Inverter Max Grid Current",
      "source": "modbus",
      "slave": 1,
      "register": 12,
      "data_type": "uint16",
      "scale": 0.1,
      "unit": "A",
      "min_value": 0,
      "max_value": 32,
      "step": 0.1,
      "device_class": "current",
      "icon": "mdi:current-ac"
    },
    {
      "key": "inv_output_max",
      "type": "sensor_data",
      "name": "Inverter Max Output",
      "source": "modbus",
      "slave": 1,
      "register": 13,
      "data_type": "uint16",
      "scale": 0.1,
      "unit": "kW",
      "device_class": "power",
      "icon": "mdi:power"
    },
    {
      "key": "charge_soc",
      "type": "number",
      "name": "Charge SOC",
      "source": "modbus",
      "slave": 1,
      "register": 14,
      "data_type": "uint16",
      "unit": "%",
      "min_value": 0,
      "max_value": 100,
      "step": 1,
      "device_class": "battery",
      "icon": "mdi:battery-charging"
    },
    {
      "key": "discharge_soc",
      "type": "number",
      "name": "Discharge SOC",
      "source": "modbus",
      "slave": 1,
      "register": 15,
      "data_type": "uint16",
      "unit": "%",
      "min_value": 0,
      "max_value": 100,
      "step": 1,
      "device_class": "battery",
      "icon": "mdi:battery-charging"
    },
    {
      "key": "anti_backflow_mode",
      "type": "switch",
      "name": "Anti Backflow Mode",
      "source": "modbus",
      "slave": 1,
      "register": 16,
      "data_type": "uint16",
      "icon": "mdi:toggle-switch"
    },
    {
      "key": "system_switch",
      "type": "switch",
      "name": "System Switch",
      "source": "modbus",
      "slave": 1,
      "register": 17,
      "data_type": "uint16",
      "icon": "mdi:power"
    },
    {
      "key": "comm_address",
      "type": "number",
      "name": "Comm Address",
      "source": "modbus",
      "slave": 1,
      "register": 18,
      "data_type": "uint16",
      "min_value": 1,
      "max_value": 255,
      "step": 1,
      "icon": "mdi:network"
    },
    {
      "key": "reset_energy",
      "type": "button",
      "name": "Reset Energy",
      "source": "modbus",
      "slave": 1,
      "register": 19,
      "data_type": "uint16",
      "write_value": 1,
      "icon": "mdi:autorenew"
    },
    {
      "key": "force_control",
      "type": "select_mapping",
      "name": "Force Control",
      "source": "modbus",
      "slave": 1,
      "register": 20,
      "data_type": "uint16",
      "icon": "mdi:battery-charging",
      "map": { "0": "normal", "1": "force_charge", "2": "force_discharge" }
    },
    {
      "key": "remote_anti_backflow",
      "type": "switch",
      "name": "Remote Anti Backflow",
      "source": "modbus",
      "slave": 1,
      "register": 21,
      "data_type": "uint16",
      "icon": "mdi:toggle-switch"
    },
    {
      "key": "anti_backflow_power",
      "type": "number",
      "name": "Anti Backflow Grid Power",
      "source": "modbus",
      "slave": 1,
      "register": 22,
      "data_type": "uint16",
      "unit": "W",
      "min_value": 20,
      "max_value": 200,
      "step": 1,
      "device_class": "power",
      "icon": "mdi:power"
    },
    {
      "key": "batt_cutoff_volt",
      "type": "number",
      "name": "Battery Cutoff Voltage",
      "source": "modbus",
      "slave": 1,
      "register": 23,
      "data_type": "uint16",
      "scale": 0.1,
      "unit": "V",
      "min_value": 10,
      "max_value": 150,
      "step": 0.1,
      "device_class": "voltage",
      "icon": "mdi:battery-minus"
    },
    {
      "key": "schedule_enable",
      "type": "select_mapping",
      "name": "Schedule Enable",
      "source": "modbus",
      "slave": 1,
      "register": 36,
      "data_type": "uint16",
      "icon": "mdi:calendar-check",
      "map": { "0": "disabled", "1": "charge_only", "2": "discharge_only", "3": "both" }
    },
    {
      "key": "machine_model",
      "type": "sensor_mapping",
      "name": "Machine Model",
      "source": "modbus",
      "slave": 1,
      "register": 100,
      "data_type": "uint16",
      "icon": "mdi:information",
      "map": { "0": "2_2kw", "1": "3_5kw", "2": "5_0kw", "3": "7_5kw", "4": "8_0kw", "5": "10_0kw", "6": "12_0kw" }
    },
    {
      "key": "inverter_status",
      "type": "sensor_mapping",
      "name": "Inverter Status",
      "source": "modbus",
      "slave": 1,
      "register": 101,
      "data_type": "uint16",
      "icon": "mdi:power-plug",
      "map": { "0": "shutdown", "1": "inverting", "2": "charging", "3": "anti_backflow", "4": "bypass", "5": "off_grid" }
    },
    {
      "key": "mppt_status",
      "type": "sensor_mapping",
      "name": "MPPT Status",
      "source": "modbus",
      "slave": 1,
      "register": 102,
      "data_type": "uint16",
      "icon": "mdi:solar-panel",
      "map": { "0": "cv", "1": "full_load", "2": "current_limit", "3": "tracking" }
    },
    {
      "key": "bus_volt",
      "type": "sensor_data",
      "name": "Bus Voltage",
      "source": "modbus",
      "slave": 1,
      "register": 103,
      "data_type": "uint16",
      "unit": "V",
      "device_class": "voltage",
      "state_class": "measurement",
      "icon": "mdi:lightning-bolt"
    },
    {
      "key": "grid_freq",
      "type": "sensor_data",
      "name": "Grid Frequency",
      "source": "modbus",
      "slave": 1,
      "register": 104,
      "data_type": "uint16",
      "scale": 0.1,
      "unit": "Hz",
      "device_class": "frequency",
      "state_class": "measurement",
      "icon": "mdi:sine-wave"
    },
    {
      "key": "grid_volt",
      "type": "sensor_data",
      "name": "Grid Voltage",
      "source": "modbus",
      "slave": 1,
      "register": 105,
      "data_type": "uint16",
      "unit": "V",
      "device_class": "voltage",
      "state_class": "measurement",
      "icon": "mdi:lightning-bolt"
    },
    {
      "key": "inv_out_volt",
      "type": "sensor_data",
      "name": "Inverter Out Volt",
      "source": "modbus",
      "slave": 1,
      "register": 106,
      "data_type": "uint16",
      "unit": "V",
      "device_class": "voltage",
      "state_class": "measurement",
      "icon": "mdi:lightning-bolt"
    },
    {
      "key": "inv_off_load_curr",
      "type": "sensor_data",
      "name": "Inv Off Grid Current",
      "source": "modbus",
      "slave": 1,
      "register": 107,
      "data_type": "uint16",
      "scale": 0.1,
      "unit": "A",
      "device_class": "current",
      "state_class": "measurement",
      "icon": "mdi:current-ac"
    },
    {
      "key": "inv_grid_curr",
      "type": "sensor_data",
      "name": "Inv Grid Current",
      "source": "modbus",
      "slave": 1,
      "register": 108,
      "data_type": "uint16",
      "scale": 0.1,
      "unit": "A",
      "offset": 1000,
      "device_class": "current",
      "state_class": "measurement",
      "icon": "mdi:current-ac"
    },
    {
      "key": "inv_curr",
      "type": "sensor_data",
      "name": "Inverter Current",
      "source": "modbus",
      "slave": 1,
      "register": 109,
      "data_type": "uint16",
      "scale": 0.1,
      "offset": 1000,
      "unit": "A",
      "device_class": "current",
      "state_class": "measurement",
      "icon": "mdi:current-ac"
    },
    {
      "key": "load_pf",
      "type": "sensor_data",
      "name": "Load Power Factor",
      "source": "modbus",
      "slave": 1,
      "register": 110,
      "data_type": "uint8_low",
      "scale": 0.01,
      "device_class": "power_factor",
      "state_class": "measurement",
      "icon": "mdi:angle-acute"
    },
    {
      "key": "inverter_pf",
      "type": "sensor_data",
      "name": "Inverter Power Factor",
      "source": "modbus",
      "slave": 1,
      "register": 110,
      "data_type": "uint8_high",
      "scale": 0.01,
      "device_class": "power_factor",
      "state_class": "measurement",
      "icon": "mdi:angle-acute"
    },
    {
      "key": "grid_power",
      "type": "sensor_data",
      "name": "Grid Power",
      "source": "modbus",
      "slave": 1,
      "register": 111,
      "data_type": "int16",
      "unit": "W",
      "device_class": "power",
      "state_class": "measurement",
      "offset": 30000,
      "icon": "mdi:power"
    },
    {
      "key": "load_power",
      "type": "sensor_data",
      "name": "Load Power",
      "source": "modbus",
      "slave": 1,
      "register": 112,
      "data_type": "int16",
      "unit": "W",
      "device_class": "power",
      "state_class": "measurement",
      "offset": 30000,
      "icon": "mdi:power"
    },
    {
      "key": "inv_io_power",
      "type": "sensor_data",
      "name": "Inverter IO Power",
      "source": "modbus",
      "slave": 1,
      "register": 113,
      "data_type": "int16",
      "unit": "W",
      "device_class": "power",
      "state_class": "measurement",
      "offset": 30000,
      "icon": "mdi:power"
    },
    {
      "key": "battery_volt",
      "type": "sensor_data",
      "name": "Battery Voltage",
      "source": "modbus",
      "slave": 1,
      "register": 114,
      "data_type": "uint16",
      "scale": 0.1,
      "unit": "V",
      "device_class": "voltage",
      "state_class": "measurement",
      "icon": "mdi:battery"
    },
    {
      "key": "battery_charge_discharge_current",
      "type": "sensor_data",
      "name": "Battery Charge Discharge Current",
      "source": "modbus",
      "slave": 1,
      "register": 115,
      "data_type": "int16",
      "scale": 0.1,
      "unit": "A",
      "device_class": "current",
      "state_class": "measurement",
      "icon": "mdi:current-dc"
    },
    {
      "key": "grid_rs_volt",
      "type": "sensor_data",
      "name": "Grid RS Voltage",
      "source": "modbus",
      "slave": 1,
      "register": 116,
      "data_type": "uint16",
      "unit": "V",
      "device_class": "voltage",
      "state_class": "measurement",
      "icon": "mdi:lightning-bolt"
    },
    {
      "key": "grid_st_volt",
      "type": "sensor_data",
      "name": "Grid ST Voltage",
      "source": "modbus",
      "slave": 1,
      "register": 117,
      "data_type": "uint16",
      "unit": "V",
      "device_class": "voltage",
      "state_class": "measurement",
      "icon": "mdi:lightning-bolt"
    },
    {
      "key": "grid_tr_volt",
      "type": "sensor_data",
      "name": "Grid TR Voltage",
      "source": "modbus",
      "slave": 1,
      "register": 118,
      "data_type": "uint16",
      "unit": "V",
      "device_class": "voltage",
      "state_class": "measurement",
      "icon": "mdi:lightning-bolt"
    },
    {
      "key": "grid_rs_curr",
      "type": "sensor_data",
      "name": "Grid RS Current",
      "source": "modbus",
      "slave": 1,
      "register": 119,
      "data_type": "uint16",
      "scale": 0.1,
      "unit": "A",
      "device_class": "current",
      "state_class": "measurement",
      "icon": "mdi:current-dc"
    },
    {
      "key": "grid_st_curr",
      "type": "sensor_data",
      "name": "Grid ST Current",
      "source": "modbus",
      "slave": 1,
      "register": 120,
      "data_type": "uint16",
      "scale": 0.1,
      "unit": "A",
      "device_class": "current",
      "state_class": "measurement",
      "icon": "mdi:current-dc"
    },
    {
      "key": "grid_tr_curr",
      "type": "sensor_data",
      "name": "Grid TR Current",
      "source": "modbus",
      "slave": 1,
      "register": 121,
      "data_type": "uint16",
      "scale": 0.1,
      "unit": "A",
      "device_class": "current",
      "state_class": "measurement",
      "icon": "mdi:current-dc"
    },
    {
      "key": "mppt1_volt",
      "type": "sensor_data",
      "name": "MPPT1 Voltage",
      "source": "modbus",
      "slave": 1,
      "register": 122,
      "data_type": "uint16",
      "scale": 0.1,
      "unit": "V",
      "device_class": "voltage",
      "state_class": "measurement",
      "icon": "mdi:solar-panel"
    },
    {
      "key": "mppt2_volt",
      "type": "sensor_data",
      "name": "MPPT2 Voltage",
      "source": "modbus",
      "slave": 1,
      "register": 123,
      "data_type": "uint16",
      "scale": 0.1,
      "unit": "V",
      "device_class": "voltage",
      "state_class": "measurement",
      "icon": "mdi:solar-panel"
    },
    {
      "key": "mppt3_volt",
      "type": "sensor_data",
      "name": "MPPT3 Voltage",
      "source": "modbus",
      "slave": 1,
      "register": 124,
      "data_type": "uint16",
      "scale": 0.1,
      "unit": "V",
      "device_class": "voltage",
      "state_class": "measurement",
      "icon": "mdi:solar-panel"
    },
    {
      "key": "mppt1_curr",
      "type": "sensor_data",
      "name": "MPPT1 Current",
      "source": "modbus",
      "slave": 1,
      "register": 125,
      "data_type": "uint16",
      "scale": 0.1,
      "unit": "A",
      "device_class": "current",
      "state_class": "measurement",
      "icon": "mdi:current-dc"
    },
    {
      "key": "mppt2_curr",
      "type": "sensor_data",
      "name": "MPPT2 Current",
      "source": "modbus",
      "slave": 1,
      "register": 126,
      "data_type": "uint16",
      "scale": 0.1,
      "unit": "A",
      "device_class": "current",
      "state_class": "measurement",
      "icon": "mdi:current-dc"
    },
    {
      "key": "mppt3_curr",
      "type": "sensor_data",
      "name": "MPPT3 Current",
      "source": "modbus",
      "slave": 1,
      "register": 127,
      "data_type": "uint16",
      "scale": 0.1,
      "unit": "A",
      "device_class": "current",
      "state_class": "measurement",
      "icon": "mdi:current-dc"
    },
    {
      "key": "mppt1_pow",
      "type": "sensor_data",
      "name": "MPPT1 Power",
      "source": "modbus",
      "slave": 1,
      "register": 128,
      "data_type": "uint16",
      "unit": "W",
      "device_class": "power",
      "state_class": "measurement",
      "icon": "mdi:power"
    },
    {
      "key": "mppt2_pow",
      "type": "sensor_data",
      "name": "MPPT2 Power",
      "source": "modbus",
      "slave": 1,
      "register": 129,
      "data_type": "uint16",
      "unit": "W",
      "device_class": "power",
      "state_class": "measurement",
      "icon": "mdi:power"
    },
    {
      "key": "mppt3_pow",
      "type": "sensor_data",
      "name": "MPPT3 Power",
      "source": "modbus",
      "slave": 1,
      "register": 130,
      "data_type": "uint16",
      "unit": "W",
      "device_class": "power",
      "state_class": "measurement",
      "icon": "mdi:power"
    },
    {
      "key": "mppt_daily",
      "type": "sensor_data",
      "name": "MPPT Daily",
      "source": "modbus",
      "slave": 1,
      "register": 131,
      "data_type": "uint16",
      "scale": 0.1,
      "unit": "kWh",
      "device_class": "energy",
      "state_class": "total_increasing",
      "icon": "mdi:solar-power"
    },
    {
      "key": "mppt_total",
      "type": "sensor_data",
      "name": "MPPT Total",
      "source": "modbus",
      "slave": 1,
      "register": 132,
      "data_type": "uint32",
      "scale": 0.1,
      "unit": "kWh",
      "device_class": "energy",
      "state_class": "total_increasing",
      "icon": "mdi:solar-power"
    },
    {
      "key": "sys_fault",
      "type": "sensor_mapping",
      "name": "System Fault",
      "source": "modbus",
      "slave": 1,
      "register": 134,
      "data_type": "uint16",
      "map": { "0": "min_in_volt", "1": "max_in_volt", "2": "in_over_freq", "3": "in_under_freq", "4": "grid_switch", "5": "inv_short", "6": "in_over_curr", "7": "inv_bus_over", "8": "pv1_over", "9": "pv2_over", "10": "pv1_over_curr", "11": "pv2_over_curr", "12": "charge_over_curr", "13": "charge_over_volt", "14": "batt_volt_prot", "15": "inv_over_temp", "99": "normal" },
      "icon": "mdi:alert"
    },
    {
      "key": "dcdc_temp",
      "type": "sensor_data",
      "name": "DCDC Temp",
      "source": "modbus",
      "slave": 1,
      "register": 135,
      "data_type": "uint16",
      "scale": 0.1,
      "offset": 400,
      "unit": "°C",
      "device_class": "temperature",
      "state_class": "measurement",
      "icon": "mdi:thermometer"
    },
    {
      "key": "inv_temp",
      "type": "sensor_data",
      "name": "Inverter Temp",
      "source": "modbus",
      "slave": 1,
      "register": 136,
      "data_type": "uint16",
      "scale": 0.1,
      "offset": 400,
      "unit": "°C",
      "device_class": "temperature",
      "state_class": "measurement",
      "icon": "mdi:thermometer"
    },
    {
      "key": "mppt1_temp",
      "type": "sensor_data",
      "name": "MPPT1 Temp",
      "source": "modbus",
      "slave": 1,
      "register": 137,
      "data_type": "uint16",
      "scale": 0.1,
      "offset": 400,
      "unit": "°C",
      "device_class": "temperature",
      "state_class": "measurement",
      "icon": "mdi:thermometer"
    },
    {
      "key": "mppt2_temp",
      "type": "sensor_data",
      "name": "MPPT2 Temp",
      "source": "modbus",
      "slave": 1,
      "register": 138,
      "data_type": "uint16",
      "scale": 0.1,
      "offset": 400,
      "unit": "°C",
      "device_class": "temperature",
      "state_class": "measurement",
      "icon": "mdi:thermometer"
    },
    {
      "key": "mppt3_temp",
      "type": "sensor_data",
      "name": "MPPT3 Temp",
      "source": "modbus",
      "slave": 1,
      "register": 139,
      "data_type": "uint16",
      "scale": 0.1,
      "offset": 400,
      "unit": "°C",
      "device_class": "temperature",
      "state_class": "measurement",
      "icon": "mdi:thermometer"
    },
    {
      "key": "relay_status",
      "name": "Relay Status",
      "type": "sensor_data",
      "source": "modbus",
      "slave": 1,
      "register": 140,
      "icon": "mdi:electric-switch"
    },
    {
      "key": "pv_flow",
      "type": "sensor_mapping",
      "name": "PV Energy Flow",
      "source": "modbus",
      "slave": 1,
      "register": 141,
      "data_type": "uint16",
      "map": { "0": "no_pv", "1": "present", "2": "generating" },
      "icon": "mdi:solar-panel"
    },
    {
      "key": "batt_flow",
      "type": "sensor_mapping",
      "name": "Battery Energy Flow",
      "source": "modbus",
      "slave": 1,
      "register": 142,
      "data_type": "uint16",
      "map": { "0": "no_battery", "1": "present", "2": "charging", "3": "discharging" },
      "icon": "mdi:battery"
    },
    {
      "key": "grid_flow",
      "type": "sensor_mapping",
      "name": "Grid Energy Flow",
      "source": "modbus",
      "slave": 1,
      "register": 143,
      "data_type": "uint16",
      "map": { "0": "no_grid", "1": "present", "2": "importing", "3": "exporting" },
      "icon": "mdi:transmission-tower"
    },
    {
      "key": "load_flow",
      "type": "sensor_mapping",
      "name": "Load Energy Flow",
      "source": "modbus",
      "slave": 1,
      "register": 144,
      "data_type": "uint16",
      "map": { "0": "no_load", "1": "load_active" },
      "icon": "mdi:power-plug"
    },
    {
      "key": "sw_version",
      "type": "sensor_data",
      "name": "Software Version",
      "source": "modbus",
      "slave": 1,
      "register": 145,
      "data_type": "uint16",
      "icon": "mdi:information"
    },
    {
      "key": "chg_lim_volt",
      "type": "sensor_data",
      "name": "Charge Limit Volt",
      "source": "modbus",
      "slave": 1,
      "register": 201,
      "data_type": "uint16",
      "scale": 0.01,
      "unit": "V",
      "device_class": "voltage",
      "state_class": "measurement",
      "icon": "mdi:battery"
    },
    {
      "key": "chg_lim_curr",
      "type": "sensor_data",
      "name": "Charge Limit Curr",
      "source": "modbus",
      "slave": 1,
      "register": 202,
      "data_type": "uint16",
      "scale": 0.01,
      "unit": "A",
      "device_class": "current",
      "state_class": "measurement",
      "icon": "mdi:current-dc"
    },
    {
      "key": "dis_lim_volt",
      "type": "sensor_data",
      "name": "Discharge Limit Volt",
      "source": "modbus",
      "slave": 1,
      "register": 203,
      "data_type": "uint16",
      "scale": 0.01,
      "unit": "V",
      "device_class": "voltage",
      "state_class": "measurement",
      "icon": "mdi:battery"
    },
    {
      "key": "dis_lim_curr",
      "type": "sensor_data",
      "name": "Discharge Limit Curr",
      "source": "modbus",
      "slave": 1,
      "register": 204,
      "data_type": "uint16",
      "scale": 0.01,
      "unit": "A",
      "device_class": "current",
      "state_class": "measurement",
      "icon": "mdi:current-dc"
    },
    {
      "key": "batt_total_volt",
      "type": "sensor_data",
      "name": "Batt Total Volt",
      "source": "modbus",
      "slave": 1,
      "register": 205,
      "data_type": "uint16",
      "scale": 0.01,
      "unit": "V",
      "device_class": "voltage",
      "state_class": "measurement",
      "icon": "mdi:battery"
    },
    {
      "key": "batt_total_curr",
      "type": "sensor_data",
      "name": "Batt Total Curr",
      "source": "modbus",
      "slave": 1,
      "register": 206,
      "data_type": "uint16",
      "scale": 0.01,
      "unit": "A",
      "device_class": "current",
      "state_class": "measurement",
      "icon": "mdi:current-dc"
    },
    {
      "key": "max_temp",
      "type": "sensor_data",
      "name": "BMS Temp",
      "source": "modbus",
      "slave": 1,
      "register": 207,
      "data_type": "uint16",
      "scale": 0.1,
      "unit": "°C",
      "device_class": "temperature",
      "state_class": "measurement",
      "icon": "mdi:thermometer"
    },
    {
      "key": "soc",
      "type": "sensor_data",
      "name": "SOC",
      "source": "modbus",
      "slave": 1,
      "register": 208,
      "data_type": "uint16",
      "unit": "%",
      "device_class": "battery",
      "state_class": "measurement",
      "icon": "mdi:battery-charging"
    },
    {
      "key": "soh",
      "type": "sensor_data",
      "name": "SOH",
      "source": "modbus",
      "slave": 1,
      "register": 209,
      "data_type": "uint16",
      "unit": "%",
      "device_class": "battery",
      "state_class": "measurement",
      "icon": "mdi:battery-heart"
    },
    {
      "key": "remain_cap",
      "type": "sensor_data",
      "name": "Remaining Capacity",
      "source": "modbus",
      "slave": 1,
      "register": 210,
      "data_type": "uint16",
      "scale": 0.01,
      "unit": "Ah",
      "icon": "mdi:battery",
      "state_class": "measurement"
    },
    {
      "key": "full_cap",
      "type": "sensor_data",
      "name": "Full Capacity",
      "source": "modbus",
      "slave": 1,
      "register": 211,
      "data_type": "uint16",
      "scale": 0.01,
      "unit": "Ah",
      "icon": "mdi:battery",
      "state_class": "measurement"
    },
    {
      "key": "cycle_count",
      "type": "sensor_data",
      "name": "Cycles",
      "source": "modbus",
      "slave": 1,
      "register": 213,
      "data_type": "uint16",
      "icon": "mdi:counter",
      "state_class": "total"
    },
    {
      "key": "alarm_flag",
      "type": "sensor_data",
      "name": "Alarm Flag",
      "source": "modbus",
      "slave": 1,
      "register": 214,
      "data_type": "uint16",
      "icon": "mdi:shield-alert"
    },
    {
      "key": "protection_flag",
      "type": "sensor_data",
      "name": "Protection Flag",
      "source": "modbus",
      "slave": 1,
      "register": 215,
      "data_type": "uint16",
      "icon": "mdi:shield-alert"
    },
    {
      "key": "fault_status",
      "type": "sensor_data",
      "name": "Fault Status",
      "source": "modbus",
      "slave": 1,
      "register": 216,
      "data_type": "uint16",
      "icon": "mdi:alert"
    }
  ]
}
